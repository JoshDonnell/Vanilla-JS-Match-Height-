"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var MatchHeight=function(){function a(e){var t,n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];_classCallCheck(this,a),this.element=e,this.parent=r,this.byrow=o,this.elements={},e?(window.addEventListener("DOMContentLoaded",function(){n.reset()}),window.addEventListener("resize",function(){clearTimeout(t),t=setTimeout(n.update(),200)})):console.error("⛔ Missing class name in new MatchHeight()")}return _createClass(a,[{key:"findElements",value:function(){var e,n=this;this.parent&&document.querySelectorAll(this.parent)?document.querySelectorAll(this.parent).forEach(function(e){var t=e.querySelectorAll(n.element);n.elements.push(t),n.findRows(t,e)}):(e=document.querySelectorAll(this.element),this.elements.push(e),this.findRows(e))}},{key:"findRows",value:function(e){var n=this,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(e.length){var o=[];e.forEach(function(e){var t=0;n.byrow&&(t=Math.round(e.getBoundingClientRect().top+window.scrollY)),o.push({offset:t,parent:r,elements:{element:e}})});for(var t=new Map(o.map(function(e){var t=e.offset;e.elements;return[t,{offset:t,elements:[]}]})),a=0,l=o;a<l.length;a++){var i=l[a],s=i.offset,i=i.elements;(s=t.get(s).elements).push.apply(s,_toConsumableArray([i].flat()))}this.setHeights(_toConsumableArray(t.values()))}}},{key:"setHeights",value:function(e){e.length&&e.forEach(function(e){var t=[];e.elements.forEach(function(e){e=e.element;e.style.height=null,t.push(e.offsetHeight)});var n=Math.max.apply(Math,t);e.elements.forEach(function(e){e.element.style.height=n+"px"})})}},{key:"update",value:function(){var t=this;this.elements.length?this.elements.forEach(function(e){t.findRows(e)}):console.error("⛔ Can't trigger update as no elements found for the MatchHeight element ".concat(this.element))}},{key:"reset",value:function(){this.elements=[],this.findElements()}},{key:"debug",value:function(){var n=this;setTimeout(function(){n.elements?n.elements.forEach(function(e,t){console.log(n.element+" Group "+(t+1)),e.forEach(function(e){console.log(e)}),console.log("\n\n")}):console.log('⛔ No cached MatchHeight elements found for "'.concat(n.element,'" \n\n Make sure this element exists on the current page.'))},500)}}]),a}();exports.default=MatchHeight;